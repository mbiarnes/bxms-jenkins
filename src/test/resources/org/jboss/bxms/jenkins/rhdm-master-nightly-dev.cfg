#This configuration is defining BxMS component with upstream development branch
#{{{ COMMON part

[common]
release_code=rhdm-nightly
release_type=nightly
availability=

product_name=RHDM
product_version_major=7
product_version_minor=5
product_version_micro=0
product_milestone=DM
product_version=${common:product_version_major}.${common:product_version_minor}.${common:product_version_micro}
product_artifact_version=${common:product_version}${common:availability}.${common:product_milestone}-redhat-SNAPSHOT
product_upload_version=${common:product_version}${common:availability}.${common:product_milestone}
release_engineer=bxms-prod@redhat.com

qe_contactor=
release_estimation=4d
#Enable releaseci trigger. Make it false if you don't want trigger releaseci
releaseci_trigger=false
shared_config=bxms-jira-config.cfg
config_type=common
base=eap-7.2.0
tag=jb-bxms-7.0-maven-build
target=jb-bxms-7.0-maven-candidate
importtag=jb-bxms-7.0-maven-imports
jobprefix=ipbxms-7.0-dev-
jobciprefix=ipbxms-ci-7.0-dev-
jobtimeout=120
jobjdk=java18_default
jobfailureemail=bxms-prod@redhat.com
mvnver=3.5.4
skiptests=brew ;# May be brew, simulator or all.
globalproperties=victims.updates=offline,projectMetaSkip=true
targetbom=rhdm/src/main/resources/bom/pom.xml
produceBomSnippet=no
#Trigger on UTC timezone 17:00 oclock
upstream_tag=master@18:00
#If not provide cutoff_date, the release pipeline will generated according to upstream_tag.
cutoff_date=
upstream_handover_url=

# Jira configuration
jira.project_key=IPBRPMS
jira.version_project=rhdm
jira.rapid_view=IP Business Rules and Process Management (Kanban)
jira.summary=${common:product_name} ${common:product_version} ${common:product_milestone} Release
jira.description=upstream tag:${upstream_tag}  ${upstream_handover_url} Release Process is started...

# Makefile location
makefile=Makefile.BRMS
include=from ip-bom-master-nightly-dev.cfg import jboss-integration-platform-bom eap-7.2.0, from common.cfg import mvel-2.4.3 xmlpull-1.1.4, from rhpam-master-nightly-dev.cfg import izpack installercommons kie-soup lienzo-core lienzo-tests appformer droolsjbpm-build-bootstrap droolsjbpm-knowledge drlx-parser drools-drlx-parser drools optaplanner jbpm droolsjbpm-integration kie-uberfire-extensions kie-wb-playground kie-wb-common drools-wb jbpm-designer jbpm-wb optaplanner-wb kie-wb-distributions optashift-employee-rostering errai rhba-boms

# Upstream components maven configuration
#By default to turn off maven plugins for findbugs, enforcer and gwt.compiler,this can be overrided by add properties in the end
pmeOptions=overrideTransitive=false,versionOverride=true,strictAlignment=false,illegaltransitivereportonly=true

[rhdm-build-bom]
config_type=bom-builder
package=org.kie.rhba.component.management-rhdm-bom-builder
version=2.1.0
depmgmt=org.kie.rhba.component.management:rhdm-dependency-management-all
propertymgmt=org.kie.rhba.component.management:rhdm-dependency-management-all
repoReportingRemoval=true
skipDeployment=false
properties=manipulation.disable=true,ip.config.sha=,cfg=rhdm-master-nightly-dev.cfg
childpackage=org.kie.rhba.component.management-rhdm-dependency-management-all
childmapping=version.org.kie.rhdm.component.management
childversion=7.5.0.DM-redhat-SNAPSHOT
produceBomSnippet=no
scmURL=git+https://code.engineering.redhat.com/gerrit/soa/soa-component-management.git?rhdm#2ad176c7bd7d85c3ca903e65483b581c7ab3fd8e
buildrequires=

#Use as root GAV for offline repo builder, also a collection for all deliverables
[rhdm-maven-repo-root]
package=org.kie.rhba-rhdm-maven-repo-root
version=${common:product_artifact_version}
produceBomSnippet=no
properties=${common:pmeOptions}
scmURL=git+https://code.engineering.redhat.com/gerrit/rhdm-maven-repo-root.git#master
buildrequires=rhba-boms

[rhba-license-builder]
package=org.kie.rhba-license-builder
version=${common:product_artifact_version}
produceBomSnippet=no
#license-maven-plugin requires big memory to avoid out of memory issue
properties=${common:pmeOptions},skipTest=true,maven.test.skip=true
jvmOpts=-Xms2g, -Xmx8g
scmURL=git+https://code.engineering.redhat.com/gerrit/bxms-licenses-builder.git#master
buildrequires=rhdm-build-bom

[rhdm]
package=org.kie.rhba-rhdm
version=7.5.0.DM-redhat-SNAPSHOT
mapping=version.com.redhat.ba
produceBomSnippet=no
scmURL=git+https://code.engineering.redhat.com/gerrit/kiegroup/rhdm.git?#master
properties=${common:pmeOptions}
buildrequires=rhba-common rhdm-maven-repo-root

#Automation Portfolio Common
[rhba-common]
package=org.kie.rhba-rhba-common
version=${common:product_artifact_version}
produceBomSnippet=no
scmURL=git+https://code.engineering.redhat.com/gerrit/kiegroup/rhap-common.git?#master
properties=${common:pmeOptions}
buildrequires=rhba-license-builder

[rhdm-installer]
package=org.jboss.installer-rhdm-installer
version=${common:product_artifact_version}
properties=${common:pmeOptions}
scmURL=git+https://code.engineering.redhat.com/gerrit/brms-installer.git#master
buildrequires=rhdm

[rhba-boms]
package=org.jboss.bom-rhpam-bom-parent
mapping=version.org.jboss.bom
version=7.5.0.PAM-redhat-SNAPSHOT
properties=${common:pmeOptions}
scmURL=git+https://code.engineering.redhat.com/gerrit/jboss-integration/rhba-boms.git#master
# the dependencies (optaplanner) are already built in rhpam cfg, not declared here to avoid missing dependencies in the job graph
buildrequires=

#{{{# Third Party

[kie.workbench]
config_type=bom-builder-meta
mapping=version.org.kie.workbench.app
version=7.5.0-SNAPSHOT

[revapi.oldKieVersion]
config_type=bom-builder-meta
mapping=revapi.oldKieVersion
version=6.5.0.Final-redhat-17

#Use only for update bxms-patch-tools properties, Please ignore the following value for main release but don't remove them
[brms-bpmsuite.latest.release]
config_type=bom-builder-meta
mapping=version.brms-bpmsuite.latest.release
version=7.2.0.GA-redhat-00002

[brms-bpmsuite.latest.patch]
config_type=bom-builder-meta
mapping=version.brms-bpmsuite.latest.patch
version=7.22.0.Final-redhat-00001

[brms-bpmsuite.latest.patch.user.facing]
config_type=bom-builder-meta
mapping=version.brms-bpmsuite.latest.patch.user.facing
version=7.22.0

[brms-bpmsuite.previous.patch]
config_type=bom-builder-meta
mapping=version.brms-bpmsuite.previous.patch
version=7.3.1.GA-redhat-00002
